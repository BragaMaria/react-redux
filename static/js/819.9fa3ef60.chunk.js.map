{"version":3,"file":"static/js/819.9fa3ef60.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","components/common/FormsControls/FormsControls.js","hoc/WithAuthRedirect.js","utils/validators/validators.js","webpack://my-app/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__8g-q4\",\"dialogsItems\":\"Dialogs_dialogsItems__IjozJ\",\"messages\":\"Dialogs_messages__tqw66\",\"dialog\":\"Dialogs_dialog__YBsfo\",\"message\":\"Dialogs_message__VFD9n\",\"active\":\"Dialogs_active__iRY31\",\"ava\":\"Dialogs_ava__OuCYK\"};","import classes from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const DialogItem = (props) => {\r\n  const {\r\n    name, id, avaPath\r\n  } = {...props}\r\n  return (\r\n    <div className={classes.dialog}>\r\n      <img alt='ava' src={avaPath} className={classes.ava}/>\r\n      <NavLink to={'/dialogs/' + id} className={navData => navData.isActive ? classes.active : classes.dialog}>\r\n        {name}\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import classes from \"../Dialogs.module.css\";\r\n\r\nexport const Message = (props) => {\r\n  const {message} = {...props}\r\n  return (\r\n    <div className={classes.message}>{message}</div>\r\n  )\r\n}\r\n\r\n","import classes from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport React from 'react'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {TextArea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst MessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit(props.onSubmit)}>\r\n      <Field component={TextArea} name={'message'} placeholder={'Enter your message'}\r\n             validate={[required, maxLengthCreator(100)]}></Field>\r\n      <button type={'submit'}>Add message</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MessageReduxForm = reduxForm({\r\n  form: \"message\"\r\n})(MessageForm)\r\n\r\nexport const Dialogs = (props) => {\r\n  const {dialogs, messages} = {...props.state}\r\n\r\n  let dialogsElements = dialogs.map(d => <DialogItem name={d.name} id={d.id} avaPath={d.avaPath} key={d.id}/>);\r\n  let messagesElements = messages.map(m => <Message message={m.message} key={m.id}/>);\r\n  let onSubmit = (values) => {\r\n    props.addMessage(values.message)\r\n    values.message = ''\r\n  }\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogsItems}>\r\n        {dialogsElements}\r\n      </div>\r\n\r\n      <div className={classes.messages}>\r\n        {messagesElements}\r\n        <MessageReduxForm onSubmit={onSubmit}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import {addMessage} from \"../../redux/dialogs-reducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    state: state.dialogsPage,\r\n    newMessageText: state.dialogsPage.newMessageText\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps,\r\n    {\r\n      addMessage: addMessage,\r\n    }),\r\n  WithAuthRedirect\r\n)(Dialogs)\r\n\r\n","import classes from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const TextArea = ({input, meta: {touched, error}, ...props}) => {\r\n  const isError = touched && error\r\n\r\n  return (\r\n    <div className={`${classes.formControl} ${isError && classes.error}`}>\r\n      <textarea  {...input} {...props}/>\r\n      {isError && <span>{error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Input = ({input, meta: {touched, error}, ...props}) => {\r\n  const isError = touched && error\r\n\r\n\r\n  return (\r\n    <div className={`${classes.formControl} ${isError ? classes.error : \"\"}`}>\r\n      <input  {...input} {...props}/>\r\n      {isError && <span>{error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validators, component, props = {}, text = '') =>\r\n  <div>\r\n    <Field placeholder={placeholder} name={name} component={component} validate={validators} {...props}/>{text}\r\n  </div>\r\n","import {useNavigate} from \"react-router-dom\";\r\nimport {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mstpForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\nexport const WithAuthRedirect = (Component) => {\r\n   const RedirectComponent = (props) => {\r\n    let navigate = useNavigate()\r\n    useEffect(() => {\r\n        if (!props.isAuth) {\r\n          return navigate(\"/login\")\r\n        }\r\n      }\r\n    )\r\n    return <Component {...props}/>\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect(mstpForRedirect)(RedirectComponent)\r\n  return ConnectedAuthRedirectComponent\r\n\r\n}","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return 'Error message';\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n  if (value.length <= maxLength) {\r\n    return undefined;\r\n  } else {\r\n    return `Max length ${maxLength} symbols`;\r\n  }\r\n\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__xo4Lp\",\"error\":\"FormsControls_error__7-m2O\",\"formSummaryError\":\"FormsControls_formSummaryError__8nLkN\",\"flexBlock\":\"FormsControls_flexBlock__+SPKh\"};"],"names":["DialogItem","props","name","id","avaPath","_objectSpread","_jsxs","className","classes","children","_jsx","alt","src","NavLink","to","navData","isActive","Message","message","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","TextArea","placeholder","validate","required","maxLengthCreator","type","compose","connect","state","dialogsPage","newMessageText","addMessage","WithAuthRedirect","dialogs","messages","dialogsElements","map","d","messagesElements","m","values","_ref","input","meta","touched","error","_objectWithoutProperties","_excluded","isError","concat","formControl","Input","_ref2","_excluded2","CreateField","validators","arguments","length","undefined","text","mstpForRedirect","isAuth","auth","Component","navigate","useNavigate","useEffect","value","maxLength"],"sourceRoot":""}