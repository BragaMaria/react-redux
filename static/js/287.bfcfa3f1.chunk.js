"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[287],{2287:(t,s,e)=>{e.r(s),e.d(s,{default:()=>E,withRouter:()=>b});var r=e(9379),o=e(5043),a=e(45);const n="ProfileInfo_descBlock__VM0Gj",l="ProfileInfo_pict__yYP2e";var u=e(6354),i=e(579);const c=t=>{let[s,e]=(0,o.useState)(!1),[r,a]=(0,o.useState)(t.status);(0,o.useEffect)((()=>{a(t.status)}),[t.status]);return(0,i.jsxs)("div",{children:[!s&&(0,i.jsxs)("span",{onDoubleClick:()=>{e(!0)},children:["\u0421\u0442\u0430\u0442\u0443\u0441 : ",t.status]}),s&&(0,i.jsx)("input",{onChange:t=>{a(t.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),t.updateStatus(r)},value:r})]})},d=["profile","status","updateStatus"],p=t=>{let{profile:s,status:e,updateStatus:r}=t;(0,a.A)(t,d);return s?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:l,children:(0,i.jsx)("img",{src:"https://html.crumina.net/html-olympus/img/top-header1.webp",alt:"img"})}),(0,i.jsxs)("div",{className:n,children:["Name:",s.fullName,(0,i.jsx)(c,{status:e,updateStatus:r})]})]}):(0,i.jsx)(u.Z,{})};var m=e(5977);const h="Post_item__AMtBT",x=t=>(0,i.jsxs)("div",{className:h,children:[(0,i.jsx)("img",{src:"https://forum.service-cm.ru/media/kunena/avatars/users/avatar906.jpg",alt:"img"}),t.text,(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["Like ",t.count]})})]}),f="MyPosts_postsBlock__obGtP",j="MyPosts_posts__it68o";var v=e(5963),_=e(3842),g=e(6545),A=e(6292);const S=(0,_.A)({form:"post"})((t=>(0,i.jsxs)("form",{onSubmit:t.handleSubmit(t.onSubmit),children:[(0,i.jsx)("div",{children:(0,i.jsx)(v.A,{component:A.fs,name:"post",placeholder:"Enter your post",validate:[g.m,(0,g.d)(10)]})}),(0,i.jsx)("button",{type:"submit",children:"ADD post"})]})));var P=e(3003);const y=(0,P.Ng)((t=>({posts:t.profilePage.posts,newPostText:t.profilePage.newPostText})),{addPost:m.SD})((t=>{let s=t.posts.map((t=>(0,i.jsx)(x,{text:t.text,count:t.likesCount},t.id)));return(0,i.jsxs)("div",{className:f,children:[(0,i.jsx)("h3",{children:"My Posts"}),(0,i.jsx)("div",{children:(0,i.jsx)(S,{onSubmit:s=>{t.addPost(s.post),s.post=""}})}),(0,i.jsx)("div",{className:j,children:s})]})})),k=t=>(0,i.jsxs)("div",{children:[(0,i.jsx)(p,{profile:t.profile,updateStatus:t.updateStatus,status:t.status}),(0,i.jsx)(y,{})]});var C=e(3216),N=e(9207);function b(t){return s=>{const e={params:(0,C.g)()},o={location:(0,C.zy)()};return(0,i.jsx)(t,(0,r.A)((0,r.A)({},s),{},{match:e,location:o}))}}const E=(0,e(3923).Zz)((0,P.Ng)((t=>({profile:t.profilePage.profile,status:t.profilePage.status})),{setUserProfile:m.p,getProfile:m.E$,getStatus:m.BS,updateStatus:m.yB}),b,N.$)((t=>((0,o.useEffect)((()=>{let s=t.match.params.userId;t.getProfile(s),t.getStatus(s)}),[]),(0,i.jsx)("div",{children:(0,i.jsx)(k,(0,r.A)((0,r.A)({},t),{},{status:t.status,updateStatus:t.updateStatus}))}))))},6292:(t,s,e)=>{e.d(s,{fs:()=>c,pd:()=>d,zE:()=>p});var r=e(9379),o=e(45),a=e(8304),n=e(5963),l=e(579);const u=["input","meta"],i=["input","meta"],c=t=>{let{input:s,meta:{touched:e,error:n}}=t,i=(0,o.A)(t,u);const c=e&&n;return(0,l.jsxs)("div",{className:"".concat(a.A.formControl," ").concat(c&&a.A.error),children:[(0,l.jsx)("textarea",(0,r.A)((0,r.A)({},s),i)),c&&(0,l.jsx)("span",{children:n})]})},d=t=>{let{input:s,meta:{touched:e,error:n}}=t,u=(0,o.A)(t,i);const c=e&&n;return(0,l.jsxs)("div",{className:"".concat(a.A.formControl," ").concat(c?a.A.error:""),children:[(0,l.jsx)("input",(0,r.A)((0,r.A)({},s),u)),c&&(0,l.jsx)("span",{children:n})]})},p=function(t,s,e,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,l.jsxs)("div",{children:[(0,l.jsx)(n.A,(0,r.A)({placeholder:t,name:s,component:o,validate:e},a)),u]})}},9207:(t,s,e)=>{e.d(s,{$:()=>i});var r=e(9379),o=e(3216),a=e(5043),n=e(3003),l=e(579);let u=t=>({isAuth:t.auth.isAuth});const i=t=>(0,n.Ng)(u)((s=>{let e=(0,o.Zp)();return(0,a.useEffect)((()=>{if(!s.isAuth)return e("/login")})),(0,l.jsx)(t,(0,r.A)({},s))}))},6545:(t,s,e)=>{e.d(s,{d:()=>o,m:()=>r});const r=t=>{if(!t)return"Error message"},o=t=>s=>s.length<=t?void 0:"Max length ".concat(t," symbols")},8304:(t,s,e)=>{e.d(s,{A:()=>r});const r={formControl:"FormsControls_formControl__xo4Lp",error:"FormsControls_error__7-m2O",formSummaryError:"FormsControls_formSummaryError__8nLkN",flexBlock:"FormsControls_flexBlock__+SPKh"}}}]);
//# sourceMappingURL=287.bfcfa3f1.chunk.js.map