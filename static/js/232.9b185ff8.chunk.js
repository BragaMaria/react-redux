/*! For license information please see 232.9b185ff8.chunk.js.LICENSE.txt */
(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[232],{6639:(e,t,o)=>{"use strict";o.r(t),o.d(t,{UsersAPIComponent:()=>D,default:()=>X});var n=o(3003),r=o(3079),s=o(5043),l=o(45);const i="User_avaImg__ZbmEA",a="User_userBlock__ZhceE",u="User_userFlexColumn__lUT5s",c="User_userAction__E+MqK",p="Paginator_selectedPage__e6YL3",g="Paginator_paginator__6aSEr",d="Paginator_pageNumber__X9sg+";var f=o(8139),h=o.n(f),v=o(579);const m=["totalUsersCount","pageSize","currentPage","onPageChanged","portionSize"];const y=e=>{let{totalUsersCount:t,pageSize:o,currentPage:n,onPageChanged:r,portionSize:i=10}=e,a=((0,l.A)(e,m),Math.ceil(t/o)),u=[];for(let s=1;s<=a;s++)u.push(s);let c=Math.ceil(a/i),[f,y]=(0,s.useState)(1),w=(f-1)*i+1,P=f*i;return(0,v.jsxs)("div",{className:g,children:[f>1&&(0,v.jsx)("button",{onClick:()=>{y(f-1)},children:"PREV"}),u.filter((e=>e>=w&&e<=P)).map((e=>(0,v.jsxs)("span",{className:h()({[p]:n===e},d),onClick:()=>{r(e)},children:[e," "]}))),c>f&&(0,v.jsx)("button",{onClick:()=>{y(f+1)},children:"NEXT"})]})},w=o.p+"static/media/user.f6d08895fddddc637379.jpg";var P=o(5475);const j=["user","followed","isFollowingProgress","unFollow","follow"],C=e=>{let{user:t,followed:o,isFollowingProgress:n,unFollow:r,follow:s}=e;(0,l.A)(e,j);return(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)(P.k2,{to:"/profile/"+t.id,children:(0,v.jsx)("img",{src:null!==t.photos.small?t.photos.small:w,alt:"Img",className:i})}),t.followed?(0,v.jsx)("button",{disabled:n.some((e=>e===t.id)),onClick:()=>{r(t.id)},children:"UNFOLLOW"}):(0,v.jsx)("button",{disabled:n.some((e=>e===t.id)),onClick:()=>{s(t.id)},children:"FOLLOW"}),(0,v.jsx)("div",{children:t.name})]})},b=["followed","follow","isFollowingProgress","unFollow","totalUsersCount","pageSize","currentPage","onPageChanged"],x=e=>{let{followed:t,follow:o,isFollowingProgress:n,unFollow:r,totalUsersCount:s,pageSize:i,currentPage:u,onPageChanged:p}=e,g=(0,l.A)(e,b);return(0,v.jsxs)("div",{children:[(0,v.jsx)(y,{totalUsersCount:s,pageSize:i,currentPage:u,onPageChanged:p}),g.users.map((e=>(0,v.jsx)("div",{className:a,children:(0,v.jsx)("div",{className:c,children:(0,v.jsx)(C,{user:e,followed:t,follow:o,isFollowingProgress:n,unFollow:r},e.id)})})))]})};var F=o(6354),S=o(9207),z=o(3923),_=(o(4467),o(9379));function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var U=e=>Array.isArray(e)?e:[e];function k(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const o=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(o,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var O="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let r,s=0;function l(){let t=o;const{length:l}=arguments;for(let e=0,o=l;e<o;e++){const o=arguments[e];if("function"===typeof o||"object"===typeof o&&null!==o){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(o);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(o,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(o);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(o,t)):t=n}}const i=t;let a;if(1===t.s)a=t.v;else if(a=e.apply(null,arguments),s++,n){var u,c,p;const e=null!==(u=null===(c=r)||void 0===c||null===(p=c.deref)||void 0===p?void 0:p.call(c))&&void 0!==u?u:r;null!=e&&n(e,a)&&(a=e,0!==s&&s--);r="object"===typeof a&&null!==a||"function"===typeof a?new O(a):a}return i.s=1,i.v=a,a}return l.clearCache=()=>{o={s:0,v:void 0,o:null,p:null},l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function N(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];const r="function"===typeof e?{memoize:e,memoizeOptions:o}:e,s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];let n,s=0,l=0,i={},a=t.pop();"object"===typeof a&&(i=a,a=t.pop()),A(a,"createSelector expects an output function after the inputs, but received: [".concat(typeof a,"]"));const u=(0,_.A)((0,_.A)({},r),i),{memoize:c,memoizeOptions:p=[],argsMemoize:g=E,argsMemoizeOptions:d=[],devModeChecks:f={}}=u,h=U(p),v=U(d),m=k(t),y=c((function(){return s++,a.apply(null,arguments)}),...h);const w=g((function(){l++;const e=function(e,t){const o=[],{length:n}=e;for(let r=0;r<n;r++)o.push(e[r].apply(null,t));return o}(m,arguments);return n=y.apply(null,e),n}),...v);return Object.assign(w,{resultFunc:a,memoizedResultFunc:y,dependencies:m,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>n,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:g})};return Object.assign(s,{withTypes:()=>s}),s}var M=N(E),R=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const o=Object.keys(e),n=t(o.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t,n)=>(e[o[n]]=t,e)),{})}));return n}),{withTypes:()=>R});const T=M((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),L=e=>e.usersPage.pageSize,W=e=>e.usersPage.totalUsersCount,Z=e=>e.usersPage.currentPage,I=e=>e.usersPage.isFetching,q=e=>e.usersPage.isFollowingProgress;class D extends s.Component{constructor(){super(...arguments),this.onPageChanged=e=>{let{getUsers:t,pageSize:o}=this.props;t(e,o)},this.render=()=>{let{isFetching:e,totalUsersCount:t,pageSize:o,currentPage:n,users:r,isFollowingProgress:s,follow:l,unFollow:i}=this.props;return(0,v.jsxs)(v.Fragment,{children:[e?(0,v.jsx)(F.Z,{}):null,(0,v.jsx)(x,{totalUsersCount:t,pageSize:o,currentPage:n,users:r,onPageChanged:this.onPageChanged,isFollowingProgress:s,follow:l,unFollow:i})]})}}componentDidMount(){let{getUsers:e,currentPage:t,pageSize:o}=this.props;e(t,o)}}const X=(0,z.Zz)((0,n.Ng)((e=>({users:T(e),pageSize:L(e),totalUsersCount:W(e),currentPage:Z(e),isFetching:I(e),isFollowingProgress:q(e)})),{follow:r.e6,unFollow:r.PY,getUsers:r.lo,setCurrentPage:r.Tm}),S.$)(D)},9207:(e,t,o)=>{"use strict";o.d(t,{$:()=>u});var n=o(9379),r=o(3216),s=o(5043),l=o(3003),i=o(579);let a=e=>({isAuth:e.auth.isAuth});const u=e=>(0,l.Ng)(a)((t=>{let o=(0,r.Zp)();return(0,s.useEffect)((()=>{if(!t.isAuth)return o("/login")})),(0,i.jsx)(e,(0,n.A)({},t))}))},8139:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=l(e,s(o)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=l(t,o));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}}]);
//# sourceMappingURL=232.9b185ff8.chunk.js.map